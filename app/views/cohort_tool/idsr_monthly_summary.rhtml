<html>
  <head>
    <%= stylesheet_link_tag 'idsr_monthly_summary' %>
    <%= stylesheet_link_tag 'jquery-ui' %>
    <%= javascript_include_tag 'jquery-3.1.1.min' %>
    <%= javascript_include_tag 'jquery.mtz.monthpicker' %>

    <script type="text/javascript" charset="utf8" src="/javascripts/jquery.dataTables.min.js"></script>
    <script>
      jQuery(document).ready(function($) {
        $('#table_id').dataTable({
          "bAutoWidth": true,
          "bPaginate": false,
          "bProcessing": true,
          "sScrollY": "400px",
          "bInfo": true,
          "bPaginate": false
        });
        search_box = $('#table_id').dataTable()
        search = document.getElementsByTagName("input")[0];
        search.setAttribute("id","search");
        document.getElementById('search').setAttribute("onclick","showKeyboard();");
        document.getElementById("find").innerHTML = "<span>Back</span>";
        document.getElementById("find").style.cssFloat = "left";
        //xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
        keyboard = document.getElementsByClassName("keypad")[0]
        function getCharButtonSetID(character,id){
          return '<button onMouseDown="press(\''+character+'\');" class="keyboardButton" id="'+id+'">' +"<span style='width:32px'>"+character+"</span>"+ "</button>";
        }
    </script>

  </head>
  <body >
    <%= image_tag(@logo, :class => "logo")%>
    <br /><b style="margin-left:75px"><%= @current_location_name %></b><br />

    <b style="position:relative; top:0px;margin-left:75px"><%= @report_name.humanize.split.map{|w| w.capitalize}.join(' ') %></b><br />

    <!-- <br /><b style="position: relative; display:block; font-weight:bold; top:-15px; padding-left:30px;margin-left:200px"> Dates : <--%= "#{@formated_start_date} to #{@formated_end_date}"%> <--%= "<br> Total Registered: #{@total_registered.length}" if (@report_name.upcase == "TOTAL_REGISTERED") %></b> -->
    <br /><b style="position: relative; display:block; font-weight:bold; top:-15px; padding-left:30px;margin-left:200px">
      Reporting Year and Month:<input type="text" id="month_year"></b>
 <br /><b style="position: relative; display:block; font-weight:bold; top:-15px; padding-left:30px;margin-left:200px"></b>

    <div>
      <table  id="table_id" class="display" >
        <thead>
          <tr>
            <th id="thth">
              Notifiable Deseases and Events <p />
            </th>

            <th id="ththth">
              <span><u>Out-Patient Cases</u></span> <br />
              <span class="basic_span"><5 yrs</span>
              <span class="basic_span">=> 5yrs</span>
              <span class="basic_span">Total</span>
            </th>

            <th id="ththth">
              <span><u>In-Patient Cases</u></span> <br />
              <span class="basic_span"><5yrs</span>
              <span class="basic_span">=>5yrs</span>
              <span class="basic_span">Total</span>
            </th>

            <th id="ththth">
              <span><u>In-Patient Deaths</u></span> <br />
              <span class="basic_span"><5yrs</span>
              <span class="basic_span">=>5yrs</span>
              <span class="basic_span">Total</span>
            </th>
          </tr>
        </thead>

        <tbody>

          <% @diaggregated_paginated.each do |key,value| %>

            <tr>
              <td> <span style="display:block; width:90%;"> <%= key.to_s %> </span> </td>

              <td align="left" > <%= "<span class='basic_span bspan'> #{value["=<4"]}</span>
                <span class='basic_span bspan'> #{value["=>5"]}" %> </span>

                <% totals = value["=<4"] + value["=>5"] %>
                <%= "<span class='basic_span bspan'> #{totals}" %></span </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>

    <div class="horizontal_line">
      <hr width="100%" color="gray"/>
    </div>

    <div id="keypad">
      <span class="keypad">
      </span>
    </center>
  </div>
  <script>
  $('#month_year').monthpicker({pattern: 'yyyy-mm',
      selectedYear: 2015,
      startYear: 1900,
      finalYear: 2016,});
  	var options = {
      selectedYear: 2015,
      startYear: 2008,
      finalYear: 2018,
      openOnFocus: false // Let's now use a button to show the widget
  };
  </script>
</body>
</html>
